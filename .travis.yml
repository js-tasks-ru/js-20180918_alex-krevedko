sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        BCIA+2eR/GdwvEEZnYew3+5JYOeFQuCn1L4J4Ude8pjpJX8Kh0rBzXT2d1LmaXDwoe7B2RpIT2qBu1o+NOibYiosBntvoywko1BLE6K+ivdX9Xk/TZyW8sD5C9oxh62+YNevj2+dC7iZ2+jUt8gswL9s0JtenkE6LOCqNmTQpc5n33p3FjA2vWQ9TYck1Jeml73xTHQzJCM9lK4eO81ubVeb8bYDR6xS1pEVMMY9QPWsY8jzIWwV6awwJuBjiXQgFaZKubVFpYwt1oJ5JIZgskxWEHVANPDWGttEX63IHqjz2aZWvv3BkH3ZDiWHmxee2E1Ww/hGYYC2VSmYbBCZUU5VKbbc+wS8sHkaDfqs2AFrJWW9oCVO5fOJL3gI79X6zEa9jj0EI597rOOXqLxMIZztVdsvg1pFYwUG04Gic6ACL3UkEiOyUqzubFty6XQeRWIvApVW4zC3EslKh7Mwagw+SfUHJqFrkxtWtdnLqVcFnjzDra31SBIrICIyF0v2HJo5dyxG83DYtxcz8SqfiJrljKlRvoNTdoJ2hWZ/EfZ3VhLdmcuBz9iLQTZP+ZTKA6pQnv8Mq6kxJUE0zwczPKAq8y1hSl2GtJnteQinrNV2MLoAo/6hEGrLJ5JprVaEMT0kJmcGl8GNIokoIvYxX5iVAMQ4I7zWWA8xOj2r4N8=
    - secure: >-
        THUkdyAbt0dcIw3D0b35IyQbHT1QB1Gkgb9ZxfnJB3WEdroIY5uYD10InITpxlUqzB5cDUm07mGvRVOHEPU9q05/OlztZK1bzwY5UsTAS9yV0q4SBv1nTdx2+VBvijbzCK0IUSwLSc1SOO1jd/IipBxbJOEuUGp9kbPFKmwi33Bh6F1PJJA0neHoUiBNLvsLN9C6urJJcRflgPIEI/0foEATK6u1reMiZGV3ud0vKuG86YVjOlqOzuhjVJqx6VZnuC1TlqXzDhH3iE/VqPKE/rtCterPXlKucxnYtBh/H9sU/IGmjKyxBT8PhFpFnxWeIKlNl6fmf2DLlfuqlcD8QaKHcQcDsGVN5N3XG7miKTCt7AK8LukCnyNGwIXlTWk5Pg+0kcWP88t+ixFgxmKcFnLoVqvVNl4Zp2SBC8YVvDoiyQJogpczxLZYyVxi70Ql3zGgu/17zIX3GHAdk8xG9SqxLe3TmZtqIgI6Ggcjoem1sip+yvHdyXsflmLGrmXkbSN/Q4mOQf02SbxcwYG6ZWj4Onb4NcT9m9PN7a1n1/h4CethgkdUp5jevSR4bWaYl1O10/lBwf2ujEVkGFZRGfGl46CP422rpWUIH3vNmEmzyob2+j7KUOnVRgdxhN6MvtiKWMAiC0wEafxw+oAdajoW/moS1az/AEezlVUtKsw=
script:
  - npm run test
notifications:
  webhooks: 'http://learn.javascript.ru/automation/ci/build'
